# ========================================================================
# DEPLOYMENT CONFIGURATION FOR RAILWAY
# ========================================================================
# Copy these variables to Railway Dashboard → Variables
# Replace placeholder values with actual values
# ========================================================================

# ========================================================================
# BLOCKCHAIN CONFIGURATION
# ========================================================================

# WalletConnect Project ID
# Get from: https://cloud.walletconnect.com
# 1. Create account
# 2. Create new project
# 3. Copy Project ID
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID="YOUR_WALLETCONNECT_PROJECT_ID"

# RPC URLs
BASE_SEPOLIA_RPC_URL="https://sepolia.base.org"
BASE_MAINNET_RPC_URL="https://mainnet.base.org"

# ========================================================================
# SMART CONTRACT ADDRESSES
# ========================================================================
# These will be populated after deployment

# Governance Contract (PolymarketGovernanceGasless)
# Deploy with: npx hardhat run scripts/deploy-base.ts --network baseSepolia
NEXT_PUBLIC_GOVERNANCE_CONTRACT_ADDRESS="0x_DEPLOY_FIRST"

# Zap Contract (ZapContractGasless)
# Deploy with: npx hardhat run scripts/deploy-zap-gasless.ts --network baseSepolia
NEXT_PUBLIC_ZAP_GASLESS_CONTRACT_ADDRESS="0x_DEPLOY_FIRST"

# Token Addresses (Base Sepolia)
NEXT_PUBLIC_WLD_TOKEN_ADDRESS="0x..." # TODO: Add WLD token address
NEXT_PUBLIC_USDC_TOKEN_ADDRESS="0x036CbD53842c5426634e7929541eC2318f3dCF7e" # USDC on Base Sepolia

# ========================================================================
# RELAYER CONFIGURATION
# ========================================================================

# Relayer Private Key
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRITICAL: Keep this secret! Never commit to Git!
RELAYER_PRIVATE_KEY="0x_GENERATE_NEW_WALLET"

# Relayer Public Address (for monitoring)
# Derive from private key above
RELAYER_ADDRESS="0x_DERIVE_FROM_PRIVATE_KEY"

# ========================================================================
# WORLD ID CONFIGURATION
# ========================================================================

# World ID App ID (Production)
NEXT_PUBLIC_WLD_APP_ID="app_affe7470221b57a8edee20b3ac30c484"

# JWT Secret for session management
JWT_SECRET="c9a7b84254a065d6086474065bcc0a3d6768302b8fa63edf4e6b507eed85f7b3"

# ========================================================================
# DATABASE CONFIGURATION
# ========================================================================

# PostgreSQL Connection String
# Railway auto-generates this when you add PostgreSQL service
# Format: postgresql://user:password@host:port/database
DATABASE_URL="postgresql://RAILWAY_WILL_GENERATE_THIS"

# ========================================================================
# OPTIONAL: MONITORING & ANALYTICS
# ========================================================================

# Sentry (Error Tracking)
# NEXT_PUBLIC_SENTRY_DSN="https://..."

# Vercel Analytics
# NEXT_PUBLIC_VERCEL_ANALYTICS_ID="..."

# ========================================================================
# DEPLOYMENT CHECKLIST
# ========================================================================
# 
# [ ] 1. Create WalletConnect Project
#        - Go to https://cloud.walletconnect.com
#        - Create project
#        - Copy NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID
#
# [ ] 2. Generate Relayer Wallet
#        - Run: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#        - Save as RELAYER_PRIVATE_KEY
#        - Derive address and save as RELAYER_ADDRESS
#
# [ ] 3. Fund Relayer Wallet
#        - Get Base Sepolia ETH from: https://www.alchemy.com/faucets/base-sepolia
#        - Send 0.1 ETH to RELAYER_ADDRESS
#        - Verify balance: https://sepolia.basescan.org/address/YOUR_ADDRESS
#
# [ ] 4. Deploy Smart Contracts
#        - Deploy Governance: npx hardhat run scripts/deploy-base.ts --network baseSepolia
#        - Deploy Zap: npx hardhat run scripts/deploy-zap-gasless.ts --network baseSepolia
#        - Copy addresses to NEXT_PUBLIC_GOVERNANCE_CONTRACT_ADDRESS and NEXT_PUBLIC_ZAP_GASLESS_CONTRACT_ADDRESS
#
# [ ] 5. Add PostgreSQL Service in Railway
#        - Railway Dashboard → Add Service → PostgreSQL
#        - Copy DATABASE_URL from Railway
#
# [ ] 6. Run Prisma Migrations
#        - Railway will auto-run: npx prisma migrate deploy
#
# [ ] 7. Deploy Application
#        - Push to GitHub
#        - Railway auto-deploys
#
# [ ] 8. Verify Deployment
#        - Visit Railway URL
#        - Connect wallet
#        - Test gasless zap
#        - Test gasless vote
#
# ========================================================================
# SECURITY NOTES
# ========================================================================
#
# - NEVER commit .env files to Git
# - Keep RELAYER_PRIVATE_KEY secret
# - Rotate JWT_SECRET periodically
# - Monitor relayer balance daily
# - Set up alerts for low balance
#
# ========================================================================
